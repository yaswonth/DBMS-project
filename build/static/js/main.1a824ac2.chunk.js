(this.webpackJsonpshyam=this.webpackJsonpshyam||[]).push([[0],{16:function(e,t,a){},26:function(e,t,a){e.exports=a(46)},31:function(e,t,a){},46:function(e,t,a){"use strict";a.r(t);var n=a(1),l=a.n(n),c=a(24),o=a.n(c),r=(a(31),a(16),a(14)),i=a(2),s=a(9),u=a(17),f=a.n(u);f.a.initializeApp({apiKey:"AIzaSyAUe7Ds6VyHAuzXCC03YnytHqeUAJtzbO8",authDomain:"shyam-4ff74.firebaseapp.com",databaseURL:"https://shyam-4ff74.firebaseio.com",projectId:"shyam-4ff74",storageBucket:"shyam-4ff74.appspot.com",messagingSenderId:"118713083232",appId:"1:118713083232:web:912eda49bba13430402a05",measurementId:"G-19QGH462QF"});var d=f.a;function m(){Object(n.useEffect)((function(){document.title="Project"}));var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),r=Object(s.a)(o,2),i=r[0],u=r[1],f=Object(n.useState)(!1),m=Object(s.a)(f,2),p=m[0],b=m[1],h="LOAD",E=Object(n.useRef)(null),g=null;return h=p?"Loading...":"LOAD",g=null!=i?"File not exists!!"==i?l.a.createElement("p",null,"File doesn't exists!!"):l.a.createElement("div",null,l.a.createElement("p",null,"File exists!!"),l.a.createElement("iframe",{src:i,width:"200",height:"240",id:"fr",ref:E,onFocus:function(){return console.log("pdf focused")}}),l.a.createElement("div",{className:"it"},l.a.createElement("p",{className:"bo",onClick:function(){console.log(i),window.open(i,"_blank")}},"OPEN"),l.a.createElement("p",{className:"bo",onClick:function(){E.current.focus();var e=document.frames?document.frames.fr:document.getElementById("fr"),t=e.contentWindow||e;return e.focus(),t.print(),!1}},"PRINT"))):null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"w-m"},l.a.createElement("div",{className:"inp"},l.a.createElement("input",{placeholder:"Unique number",style:{display:"flex",flexDirection:"column",outline:"none",border:1,borderRadius:5,padding:5,resize:"none",background:"#fff",width:"100%",fontSize:16},value:a,onChange:function(e){return c(e.target.value)}})),l.a.createElement("div",{className:"but",onClick:function(){u(null),""==a?alert("Please fill the uniqueid!!"):(b(!0),d.database().ref("pdfs").orderByChild("id").equalTo(a).once("value",(function(e){if(e.exists()){var t=Object.keys(e.val());console.log(e.val()[t[0]].uri);var a=new XMLHttpRequest;a.responseType="blob",a.onload=function(e){var t=new Blob([a.response],{type:"application/pdf"}),n=URL.createObjectURL(t);u(n)},a.open("GET",e.val()[t[0]].uri),a.send()}else alert("File not exist"),u("File not exists!!");b(!1)})).catch((function(e){console.log(e)})))}},h),g))}function p(){Object(n.useEffect)((function(){document.title="Upload"}));var e=Object(n.useState)(""),t=Object(s.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),r=Object(s.a)(o,2),i=r[0],u=r[1],f=Object(n.useState)(null),m=Object(s.a)(f,2),p=m[0],b=m[1],h="UPLOAD",E=Object(n.useRef)(null),g=null,v=null;return g=null!=i?l.a.createElement("p",null,i):null,null!=p?(h="Uploading...",v=l.a.createElement("p",null,p)):(h="UPLOAD",v=null),l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"w-m"},l.a.createElement("div",{className:"inp"},l.a.createElement("input",{placeholder:"Unique number",style:{display:"flex",flexDirection:"column",outline:"none",border:1,borderRadius:5,padding:5,resize:"none",background:"#fff",width:"100%",fontSize:16},value:a,onChange:function(e){return c(e.target.value)}})),l.a.createElement("div",{className:"new-choose"},l.a.createElement("button",{className:"new-choose-bt"},"Choose file"),l.a.createElement("input",{type:"file",accept:"application/pdf",className:"dash-ch-in",ref:E,onChange:function(e){e.target.files&&e.target.files[0]?u(e.target.files[0].name):u(null)}})),g,l.a.createElement("div",{className:"but",onClick:function(){""==a?alert("Please fill the uniqueid!!"):E.current.files&&E.current.files[0]?(b("Loading..."),d.database().ref("pdfs").orderByChild("id").equalTo(a).once("value",(function(e){if(e.exists())b(null),alert("unique id already exists!!");else{var t=E.current.files[0].name.split("."),n=d.storage().ref("pdfs/"+a+"."+t[t.length-1]);n.put(E.current.files[0]).on("state_changed",(function(e){var t=Math.round(e.bytesTransferred/e.totalBytes*100);b("pdf upload progress: "+t+"%")}),(function(e){b(null)}),(function(){b("wait...Uploading data..."),n.getDownloadURL().then((function(e){d.database().ref("pdfs").push().set({id:a,uri:e}).then((function(){b(null)})).catch((function(e){alert("Network issues...please try again!")})),b(null)}))}))}})).catch((function(e){console.log(e)}))):alert("Please select a pdf file to upload!!")}},h),v))}function b(){return l.a.createElement("div",{className:"er-c"},l.a.createElement("div",{className:"er-n"},l.a.createElement("p",{className:"er-t"},"404"),l.a.createElement(r.b,{to:"/"},"Go to Home page")))}var h=function(){return l.a.createElement(r.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{exact:!0,path:"/"},l.a.createElement(m,null)),l.a.createElement(i.a,{path:"/upload"},l.a.createElement(p,null)),l.a.createElement(i.a,{path:"*"},l.a.createElement(b,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[26,1,2]]]);
//# sourceMappingURL=main.1a824ac2.chunk.js.map